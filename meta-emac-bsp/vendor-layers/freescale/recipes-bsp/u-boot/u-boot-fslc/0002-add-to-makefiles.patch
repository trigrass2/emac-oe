From f7dfa6a18b107ea3ddcb065e5ef897679a433e45 Mon Sep 17 00:00:00 2001
From: Brenden Tisler <btisler@emacinc.com>
Date: Tue, 5 Sep 2023 12:14:58 -0500
Subject: [PATCH] add to makefiles

Signed-off-by: Brenden Tisler <btisler@emacinc.com>
---
 arch/arm/dts/Makefile         |  4 +++-
 arch/arm/mach-imx/mx6/Kconfig | 16 ++++++++++++++++
 2 files changed, 19 insertions(+), 1 deletion(-)

diff --git a/arch/arm/dts/Makefile b/arch/arm/dts/Makefile
index 965895bc2a..b0b50f68aa 100644
--- a/arch/arm/dts/Makefile
+++ b/arch/arm/dts/Makefile
@@ -856,6 +856,7 @@ dtb-y += \
 	imx6qp-sabreauto.dtb \
 	imx6qp-sabresd.dtb \
 	imx6qp-wandboard-revd1.dtb \
+	som-imx6q-350es.dts \
 
 endif
 
@@ -884,7 +885,8 @@ dtb-$(CONFIG_MX6UL) += \
 	imx6ul-pico-hobbit.dtb \
 	imx6ul-pico-pi.dtb \
 	imx6ul-kontron-n631x-s.dtb \
-	imx6ull-kontron-n641x-s.dtb
+	imx6ull-kontron-n641x-s.dtb \
+	som-imx6ul.dts
 
 dtb-$(CONFIG_MX6ULL) += \
 	imx6ull-14x14-evk.dtb \
diff --git a/arch/arm/mach-imx/mx6/Kconfig b/arch/arm/mach-imx/mx6/Kconfig
index c7a03e5042..15fccfdcd5 100644
--- a/arch/arm/mach-imx/mx6/Kconfig
+++ b/arch/arm/mach-imx/mx6/Kconfig
@@ -440,6 +440,14 @@ config TARGET_MX6UL_14X14_EVK
 	select FSL_CAAM
 	select ARCH_MISC_INIT
 
+config TARGET_SOMIMX6UL
+        bool "EMAC IMX6UL boards"
+        depends on MX6UL
+        select BOARD_LATE_INIT
+        select DM
+        select SUPPORT_SPL
+        imply CMD_DM
+
 config TARGET_MX6UL_ENGICAM
 	bool "Support Engicam GEAM6UL/Is.IoT"
 	depends on MX6UL
@@ -489,6 +497,12 @@ config TARGET_MYS_6ULX
 	select DM_THERMAL
 	select SUPPORT_SPL
 
+config TARGET_SOMIMX6
+        bool "SoM-iMX6 boards"
+	depends on MX6QDL
+        select BOARD_LATE_INIT
+        select SUPPORT_SPL
+
 config TARGET_NITROGEN6X
 	bool "nitrogen6x"
 	depends on MX6DL || MX6Q || MX6QDL || MX6S
@@ -706,6 +720,8 @@ source "board/freescale/mx6sllevk/Kconfig"
 source "board/freescale/mx6sxsabresd/Kconfig"
 source "board/freescale/mx6sxsabreauto/Kconfig"
 source "board/freescale/mx6ul_14x14_evk/Kconfig"
+source "board/emac/somimx6/Kconfig"
+source "board/emac/somimx6ul/Kconfig"
 source "board/freescale/mx6ullevk/Kconfig"
 source "board/bosch/acc/Kconfig"
 source "board/grinn/liteboard/Kconfig"
-- 
2.34.1

